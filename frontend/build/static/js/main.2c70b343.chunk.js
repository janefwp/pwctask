(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{66:function(e,t,n){},92:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(15),r=n.n(c),s=n(24),i=n(25),o=n(53),d=n(54),l="COMPANY_LIST_BYNUMBER_REQUEST",j="COMPANY_LIST_BYNUMBER_SUCCESS",p="COMPANY_LIST_BYNUMBER_FAIL",b="COMPANY_LIST_RESTRICT_REQUEST",u="COMPANY_LIST_RESTRICT_SUCCESS",h="COMPANY_LIST_RESTRICT_FAIL",O=Object(i.combineReducers)({companyList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{companies:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:case b:return{loading:!0,companies:[]};case j:return{loading:!1,companies:t.payload,page:1,pages:1,total:t.payload.length};case u:return{loading:!1,companies:t.payload.companies,page:t.payload.page,pages:t.payload.pages,total:t.payload.total};case p:case h:return{loading:!1,error:t.payload};default:return e}}}),x=[o.a],m=Object(i.createStore)(O,{},Object(d.composeWithDevTools)(i.applyMiddleware.apply(void 0,x))),y=(n(66),n(94)),v=n(29),g=n(7),f=n(100),C=n(1);var S=function(){return Object(C.jsx)("header",{children:Object(C.jsx)(f.a,{bg:"primary",variant:"dark",expand:"lg",collapseOnSelect:!0,children:Object(C.jsx)(y.a,{children:Object(C.jsx)(f.a.Brand,{href:"/",children:"Companies"})})})})},_=n(95),T=n(96);var N=function(){return Object(C.jsx)("footer",{children:Object(C.jsx)(y.a,{children:Object(C.jsx)(_.a,{children:Object(C.jsx)(T.a,{className:"text-center py-3",children:"Copyright \xa9 Jing"})})})})},E=(n(68),n(27)),I=n(102),R=n(104),L=n(98),k=n(99),w=n(26),B=n.n(w),A=n(40),M=n(41),Y=n.n(M),P=n(97);var U=function(){return Object(C.jsx)(P.a,{animation:"border",role:"status",style:{height:"100px",width:"100px",margin:"auto",display:"block"},children:Object(C.jsx)("span",{className:"sr-only",children:"Loading..."})})},F=n(101);var D=function(e){var t=e.variant,n=e.children;return Object(C.jsx)(F.a,{variant:t,children:n})},J=n(58),Q=n(103),W=n(57);var q=function(e){var t=e.pages,n=e.page;return t>1&&Object(C.jsx)(Q.a,{children:Object(J.a)(Array(t).keys()).map((function(e){return Object(C.jsx)(W.LinkContainer,{to:"/?page=".concat(e+1),children:Object(C.jsx)(Q.a.Item,{active:e+1===n,children:e+1})},e+1)}))})};var z=function(e){var t=e.history,n=Object(a.useState)(""),c=Object(E.a)(n,2),r=c[0],i=c[1],o=Object(a.useState)(!0),d=Object(E.a)(o,2),O=d[0],x=d[1],m=Object(a.useState)(!1),v=Object(E.a)(m,2),g=v[0],f=v[1],S=Object(a.useState)(!1),N=Object(E.a)(S,2),w=N[0],M=N[1],P=Object(s.b)(),F=Object(s.c)((function(e){return e.companyList})),J=F.companies,Q=F.loading,W=F.error,z=F.page,G=F.pages,H=F.total,K=t.location.search;return Object(a.useEffect)((function(){w&&P(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(){var t=Object(A.a)(B.a.mark((function t(n){var a,c;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:b}),t.next=4,Y.a.get("/api/companies/".concat(e));case 4:a=t.sent,c=a.data,n({type:u,payload:c}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n({type:h,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}(K))}),[P,K,w]),Object(C.jsxs)(y.a,{children:[Object(C.jsxs)(_.a,{children:[Object(C.jsxs)(T.a,{children:[Object(C.jsxs)(I.a,{className:"mb-3",children:[Object(C.jsx)(R.a,{placeholder:"Enter company business number","aria-label":"Company business number","aria-describedby":"basic-addon2",onChange:function(e){var t=e.target.value,n=t.replace("-","");isNaN(n)?x(!1):(x(!0),i(t))}}),Object(C.jsx)(L.a,{variant:"primary",id:"button-addon2",onClick:function(e){e.preventDefault(),r&&P(function(e){return function(){var t=Object(A.a)(B.a.mark((function t(n){var a,c;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:l}),t.next=4,Y.a.get("/api/companies/".concat(e));case 4:a=t.sent,c=a.data,n({type:j,payload:c}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n({type:p,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}(r)),f(!0)},disabled:!O,children:"Search"})]}),!O&&Object(C.jsx)("div",{style:{color:"red"},children:"Only 0-9 and '-' is accepted"})]}),Object(C.jsx)(T.a,{className:"justify-content-md-center",children:Object(C.jsx)(L.a,{variant:"outline-primary",id:"button-addon2",onClick:function(){f(!0),M(!0)},children:"Show All Restricted Companies"})})]}),Object(C.jsx)("br",{}),g&&Object(C.jsx)("div",{children:Q?Object(C.jsx)(U,{}):W?Object(C.jsx)(D,{variant:"danger",children:W}):Object(C.jsxs)("div",{children:[Object(C.jsxs)("p",{children:[H," result(s) found"]}),Object(C.jsxs)(k.a,{className:"table table-hover",children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{children:"ID"}),Object(C.jsx)("th",{children:"Company name"}),Object(C.jsx)("th",{children:"Description"}),Object(C.jsx)("th",{children:"Tagline"}),Object(C.jsx)("th",{children:"Company email"}),Object(C.jsx)("th",{children:"Business number"}),Object(C.jsx)("th",{children:"Restricted"})]})}),Object(C.jsx)("tbody",{children:null===J||void 0===J?void 0:J.map((function(e){return Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:e.id}),Object(C.jsx)("td",{children:e.company_name}),Object(C.jsx)("td",{children:e.description}),Object(C.jsx)("td",{children:e.tagline}),Object(C.jsx)("td",{children:e.company_email}),Object(C.jsx)("td",{children:e.business_number}),Object(C.jsx)("td",{children:e.restricted})]},e.id)}))})]}),Object(C.jsx)(q,{pages:G,page:z})]})})]})};var G=function(){return Object(C.jsxs)(v.BrowserRouter,{children:[Object(C.jsx)(S,{}),Object(C.jsx)("main",{className:"py-3",children:Object(C.jsx)(y.a,{children:Object(C.jsx)(g.d,{path:"/",component:z,exact:!0})})}),Object(C.jsx)(N,{})]})},H=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,105)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))};r.a.render(Object(C.jsx)(s.a,{store:m,children:Object(C.jsx)(G,{})}),document.getElementById("root")),H()}},[[92,1,2]]]);
//# sourceMappingURL=main.2c70b343.chunk.js.map