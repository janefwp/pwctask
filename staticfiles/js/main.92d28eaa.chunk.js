(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{66:function(e,t,n){},92:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(15),r=n.n(c),s=n(24),i=n(25),o=n(53),d=n(54),l="COMPANY_LIST_BYNUMBER_REQUEST",j="COMPANY_LIST_BYNUMBER_SUCCESS",p="COMPANY_LIST_BYNUMBER_FAIL",b="COMPANY_LIST_RESTRICT_REQUEST",u="COMPANY_LIST_RESTRICT_SUCCESS",h="COMPANY_LIST_RESTRICT_FAIL",O=Object(i.combineReducers)({companyList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{companies:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:case b:return{loading:!0,companies:[]};case j:return{loading:!1,companies:t.payload,page:1,pages:1,total:t.payload.length};case u:return{loading:!1,companies:t.payload.companies,page:t.payload.page,pages:t.payload.pages,total:t.payload.total};case p:case h:return{loading:!1,error:t.payload};default:return e}}}),x=[o.a],m=Object(i.createStore)(O,{},Object(d.composeWithDevTools)(i.applyMiddleware.apply(void 0,x))),y=(n(66),n(94)),v=n(29),g=n(7),f=n(100),C=n(1);var S=function(){return Object(C.jsx)("header",{children:Object(C.jsx)(f.a,{bg:"primary",variant:"dark",expand:"lg",collapseOnSelect:!0,children:Object(C.jsx)(y.a,{children:Object(C.jsx)(f.a.Brand,{href:"/",children:"Companies"})})})})},_=n(95),T=n(96);var N=function(){return Object(C.jsx)("footer",{children:Object(C.jsx)(y.a,{children:Object(C.jsx)(_.a,{children:Object(C.jsx)(T.a,{className:"text-center py-3",children:"Copyright \xa9 Jing"})})})})},k=(n(68),n(27)),E=n(102),I=n(104),R=n(98),w=n(99),L=n(26),B=n.n(L),A=n(40),M=n(41),Y=n.n(M),P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(){var t=Object(A.a)(B.a.mark((function t(n){var a,c;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:b}),t.next=4,Y.a.get("/api/companies".concat(e));case 4:a=t.sent,c=a.data,n({type:u,payload:c}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n({type:h,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},U=n(97);var F=function(){return Object(C.jsx)(U.a,{animation:"border",role:"status",style:{height:"100px",width:"100px",margin:"auto",display:"block"},children:Object(C.jsx)("span",{className:"sr-only",children:"Loading..."})})},D=n(101);var J=function(e){var t=e.variant,n=e.children;return Object(C.jsx)(D.a,{variant:t,children:n})},Q=n(58),W=n(103),q=n(57);var z=function(e){var t=e.pages,n=e.page,a=e.keyword,c=void 0===a?"":a;return c&&(c=c.split("?keyword=")[1].split("&")[0]),t>1&&Object(C.jsx)(W.a,{children:Object(Q.a)(Array(t).keys()).map((function(e){return Object(C.jsx)(q.LinkContainer,{to:"/?keyword=".concat(c,"&page=").concat(e+1),children:Object(C.jsx)(W.a.Item,{active:e+1===n,children:e+1})},e+1)}))})};var G=function(e){var t=e.history,n=Object(a.useState)(""),c=Object(k.a)(n,2),r=c[0],i=c[1],o=Object(a.useState)(!0),d=Object(k.a)(o,2),b=d[0],u=d[1],h=Object(a.useState)(!1),O=Object(k.a)(h,2),x=O[0],m=O[1],v=Object(a.useState)(!1),g=Object(k.a)(v,2),f=g[0],S=g[1],N=Object(s.b)(),L=Object(s.c)((function(e){return e.companyList})),M=L.companies,U=L.loading,D=L.error,Q=L.page,W=L.pages,q=L.total,G=t.location.search;return Object(a.useEffect)((function(){f&&N(P(G))}),[N,G,f]),Object(C.jsxs)(y.a,{children:[Object(C.jsxs)(_.a,{children:[Object(C.jsxs)(T.a,{children:[Object(C.jsxs)(E.a,{className:"mb-3",children:[Object(C.jsx)(I.a,{placeholder:"Enter company business number","aria-label":"Company business number","aria-describedby":"basic-addon2",onChange:function(e){var t=e.target.value,n=t.replace("-","");isNaN(n)?u(!1):(u(!0),i(t))}}),Object(C.jsx)(R.a,{variant:"primary",id:"button-addon2",onClick:function(e){e.preventDefault(),r&&N(function(e){return function(){var t=Object(A.a)(B.a.mark((function t(n){var a,c;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:l}),t.next=4,Y.a.get("/api/companies/".concat(e));case 4:a=t.sent,c=a.data,n({type:j,payload:c}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n({type:p,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}(r)),m(!0)},disabled:!b,children:"Search"})]}),!b&&Object(C.jsx)("div",{style:{color:"red"},children:"Only 0-9 and '-' is accepted"})]}),Object(C.jsx)(T.a,{className:"justify-content-md-center",children:Object(C.jsx)(R.a,{variant:"outline-primary",id:"button-addon2",onClick:function(){N(P()),m(!0),S(!0)},children:"Show All Restricted Companies"})})]}),Object(C.jsx)("br",{}),x&&Object(C.jsx)("div",{children:U?Object(C.jsx)(F,{}):D?Object(C.jsx)(J,{variant:"danger",children:D}):Object(C.jsxs)("div",{children:[Object(C.jsxs)("p",{children:[q," result(s) found"]}),Object(C.jsxs)(w.a,{className:"table table-hover",children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{children:"ID"}),Object(C.jsx)("th",{children:"Company name"}),Object(C.jsx)("th",{children:"Description"}),Object(C.jsx)("th",{children:"Tagline"}),Object(C.jsx)("th",{children:"Company email"}),Object(C.jsx)("th",{children:"Business number"}),Object(C.jsx)("th",{children:"Restricted"})]})}),Object(C.jsx)("tbody",{children:null===M||void 0===M?void 0:M.map((function(e){return Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:e.id}),Object(C.jsx)("td",{children:e.company_name}),Object(C.jsx)("td",{children:e.description}),Object(C.jsx)("td",{children:e.tagline}),Object(C.jsx)("td",{children:e.company_email}),Object(C.jsx)("td",{children:e.business_number}),Object(C.jsx)("td",{children:e.restricted})]},e.id)}))})]}),Object(C.jsx)(z,{pages:W,page:Q})]})})]})};var H=function(){return Object(C.jsxs)(v.BrowserRouter,{children:[Object(C.jsx)(S,{}),Object(C.jsx)("main",{className:"py-3",children:Object(C.jsx)(y.a,{children:Object(C.jsx)(g.d,{path:"/",component:G,exact:!0})})}),Object(C.jsx)(N,{})]})},K=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,105)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))};r.a.render(Object(C.jsx)(s.a,{store:m,children:Object(C.jsx)(H,{})}),document.getElementById("root")),K()}},[[92,1,2]]]);
//# sourceMappingURL=main.92d28eaa.chunk.js.map